<html>
  <head>
    <style>canvas{border: 1px solid;}</style>
  </head>
  <body style="background-color: black;">
    <canvas id="screen" width="512" height="512"></canvas>
  </body>
  <script>
    function sh(a){for(var b,c,d=a.length;d;b=Math.floor(Math.random()*d),c=a[--d],a[d]=a[b],a[b]=c);return a}function rec(a,b,c,d,e){cxt.beginPath(),cxt.rect(a,b,c-a,d-b),cxt.fillStyle=e,cxt.fill(),cxt.strokeStyle="rgba(0, 0, 0, 0)",cxt.stroke()}function dP(a,b){var c=a.x,d=a.y;rec(16*d+1,16*c+1,16*d+15,16*c+15,b)}function dF(a){cxt.beginPath(),cxt.arc(16*a.y+8,16*a.x+8,4,0,2*Math.PI,!1),cxt.fillStyle="rgb(41, 42, 38)",cxt.fill(),cxt.strokeStyle="rgba(0, 0, 0, 0)",cxt.stroke()}function P(a,b){this.x=a,this.y=b}function S(a,b,c,d){this.d=3,this.hD=-1,this.ps=[],this.dp=0,this.key=c,this.l=50,this.no=d,this.ps.push(new P(a,b)),this.ps.push(new P(a,b+1))}function draw(){rec(0,0,512,512,"rgb(154, 207, 130)"),ss.forEach(function(a){for(var b=0;b<a.ps.length;b++)a.l>0?dP(a.ps[b],"rgb(41, 42, 38)"):dP(a.ps[b],"gray")}),fs.forEach(function(a){dF(a)})}function doKey(a){var b=a||window.event,c=b.target||b.srcElement;c.type||c.getAttribute("type");ss.forEach(function(a){for(var c=0;c<4;c++)if(b.keyCode==a.key[c])return a.hD=c,!1})}function cs(a,b){if(a<0||a>=r||b<0||b>=c)return!0;for(var d=0;d<ss.length;d++)for(var e=0;e<ss[d].ps.length;e++)if(ss[d].ps[e].x==a&&ss[d].ps[e].y==b)return!0;return!1}function csF(a,b){for(var c=0;c<fs.length;c++)if(fs[c].x==a&&fs[c].y==b)return c;return!1}function gF(){for(;fs.length<fL;){var a,b;do a=Math.floor(Math.random()*r),b=Math.floor(Math.random()*c);while(cs(a,b)||csF(a,b));fs.push(new P(a,b))}}function daemon(){gF(),sh(ss),ss.forEach(function(a){a.m()}),draw()}var canvas=document.getElementById("screen"),cxt=canvas.getContext("2d"),m=[[-1,0],[0,1],[1,0],[0,-1]],r=32,c=32,ss=[],fL=10,fs=[];S.prototype.m=function(){if(0!=this.l){if(this.hD!=-1){var a=this.ps[0].x+m[this.hD][0],b=this.ps[0].y+m[this.hD][1];cs(a,b)||(this.d=this.hD,this.hD=-1)}var a=this.ps[0].x+m[this.d][0],b=this.ps[0].y+m[this.d][1];if(cs(a,b))this.l--;else{var c=csF(a,b);c&&(this.dp++,fs.splice(c,1)),this.l<50&&this.l++,this.ps.unshift(new P(a,b)),this.dp>0?this.dp--:this.ps.pop()}}},ss.push(new S(r/4,c/4,[38,39,40,37],1)),ss.push(new S(r-r/4,c-c/4,[87,68,83,65],2)),ss.push(new S(r-r/4,c/4,[84,72,71,70],3)),document.onkeydown=doKey,setInterval(daemon,100);
  </script>
</html>